//-- Functional DEClarative

const { FIF } = require( './fif.cjs' );
const { isCallable } = require( './callable.cjs' );

function FDEC(
  conditional,
  onSuccess,
  onFailure,
  params = []
) {

  return FIF(
    ( isCallable(conditional) )
    ,
    () => {
      
      return FIF(
        (
          FIF(
            ( params.len > 0 )
            ,
            () => conditional(...params),
            () => conditional()
          )
        )
        ,
        () => onSuccess(),
        () => onFailure()      
      )
      
    }
    ,
    () => {
      
      return FIF(
        ( conditional )
        ,
        () => onSuccess(),
        () => onFailure()
      )
      
    },
  )
  
}

module.exports = {
  FDEC
}